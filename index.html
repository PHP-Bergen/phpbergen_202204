<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
  					<textarea data-template>

						# PHP Bergen
						## Refactoring
						### @steinmb
						---
						# Entropy
						Technical debt / Code rot

						When any change gets hard
						---
						# When did this happened?
						---
						## Every one do their best
						---
						## Time to get it done. Fix properly later.
						---
						## Lack of understanding what this leads to.
						---
						## Never stops for refactoring.
						---
						## Resembles a monolith
						---
						## No tests
						---
						Further reading
						Ref: [refactoring.guru](https://refactoring.guru/refactoring/technical-debt)
						---

						# Legacy application
						Poorly organized.
						---
						## Call stack
						[![Call stack visualization](/media/Call-graph-visualizations-Modular-system-left-versus-spaghetti-code-right.png)](/media/Call-graph-visualizations-Modular-system-left-versus-spaghetti-code-right.png)

						Ref: [https://doi.org/10.1016/j.entcs.2009.02.066](https://www.researchgate.net/publication/220369791_A_Framework_for_Reverse_Engineering_Large_C_Code_Bases)
						---
						## No tests and untestable
						---
						## Long function
						[![Long func](/media/long.png)](/media/long.png)
						---
						## Globals and super globals
						---
						## Primitives everywhere
						---
						## Further reading
						Ref: [Modernizing Legacy Applications In PHP](https://leanpub.com/mlaphp)
						---

						# Refactoring
						Rewrite or Refactor?
						---
						## What does it mean?
						---
						## Keep 'Em Separated
						No new features
						---
						## Further reading
						Ref: [Refactoring - Martin Fowler, with Kent Beck](https://refactoring.com/)
						---

						## Example code
						---
						# Reformatting
						[PSR-12: Extended Coding Style](https://www.php-fig.org/psr/psr-12/)
						---
						# Tests your code
						[PHPUnit testing framwork](https://phpunit.de/)
						<pre><code class="bash">
composer require --dev phpunit/phpunit ^9.5
						</code></pre>

						[Pest testing framework](https://pestphp.com/)
						<pre><code class="bash">
composer require pestphp/pest --dev --with-all-dependencies
					</code></pre>
---

					# Autoloading
[PSR-4](https://www.php-fig.org/psr/psr-4)
---

					# Books!
* https://refactoring.com/
* [Clean Code: A Handbook of Agile Software Craftsmanship](https://www.oreilly.com/library/view/clean-code-a/9780136083238/)
  by Robert C. Martin (Uncle Bob)
* Clean Architecture: A Craftsman’s Guide to Software Structure and Design
  by Robert C. Martin (Uncle Bob)
* Object Design Style Guide - Matthias Noback”
---
						# Talk and drink

  </textarea>

					<section data-markdown>

  <textarea data-template>
  </textarea>

		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
